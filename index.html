
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>我是小韩同学</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="洛绍川">
    

    
    <meta name="description" content="code">
<meta property="og:type" content="website">
<meta property="og:title" content="我是小韩同学">
<meta property="og:url" content="http://www.luoshaochuan.com/index.html">
<meta property="og:site_name" content="我是小韩同学">
<meta property="og:description" content="code">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="我是小韩同学">
<meta name="twitter:description" content="code">

    
    
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="我是小韩同学" title="我是小韩同学"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="我是小韩同学">我是小韩同学</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">主页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="/tags">标签</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:www.luoshaochuan.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/11/19/母函数法/" title="母函数法" itemprop="url">母函数法</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="洛绍川" target="_blank" itemprop="author">洛绍川</a>
		
  <p class="article-time">
    <time datetime="2017-11-19T12:17:03.000Z" itemprop="datePublished"> 发表于 2017-11-19</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="母函数法"><a href="#母函数法" class="headerlink" title="母函数法"></a>母函数法</h2><blockquote>
<p>母函数即生成函数，构造这么一个多项式函数g(x)，使得x的n次方系数为f(n)，是组合数学中尤其是计数方面的一个重要理论和工具。<br><strong>母函数把组合问题的加法法则和幂级数的乘幂对应起来。</strong></p>
</blockquote>
<p>首先看一个多项式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(1+a_1x)(1+a_2x)(1+a_3x)...(1+a_nx)=1+(a_1+a_2+...+a_n)x+(a_1a_2+a_1a_3+...+a_&#123;n-1&#125;a_n)x^2+...+a_1a_2a_3...a_nx^n</div></pre></td></tr></table></figure></p>
<p>其中x^1 的系数就是从a1,…,an中选1个的组合数，x^2的系数就是从a1,…,an中选两个的组合数，…。  </p>
<h3 id="1-砝码称重"><a href="#1-砝码称重" class="headerlink" title="1.砝码称重"></a>1.砝码称重</h3><blockquote>
<p>有1克、2克、3克、4克的砝码各一枚，能称出哪几种重量？每种重量各有几种可能方案？</p>
</blockquote>
<p>我们可以构造母函数来求解,假设x代表砝码，x的指数代表其重量：<br>1个1克砝码：1<em> x^0+1</em> x^1<br>1个2克砝码：1<em> x^0+1</em> x^2<br>1个3克法码：1<em> x^0+1</em> x^3<br>1个4克砝码：1<em> x^0+1</em> x^4  </p>
<p>注意，每个砝码有和不选两种状态，不选的时候指数为0，所以有1*x^0一项。</p>
<p>原问题是一个组合数学加法问题，按照我们的定义，现在x的指数表示砝码重量，所以对x的多项式相乘便得到原来加法的组合：(1+x)(1+x^ 2)(1+x^ 3)(1+x^ 4)=1+x+x^2+2x^ 3+2x^ 4+2x^ 5+2x^ 6+2x^ 7+x^ 8+x^ 9+x^10<br>展开后的多项式中x的指数就是可以秤出的重量，系数就是方案数。<br>例如：2x^4表示4克有两种方案：1+3或者4</p>
<blockquote>
<p>假设上面每种砝码都有无穷多个，那么称出4克有多少种方案？</p>
</blockquote>
<p>这个问题和原问题的区别在于每种砝码可选的状态更多了，选0个，1个，2个….<br>1克砝码：1+x+x^2^+x^3^+x^4^+….<br>2克砝码：1+x^2^+x^4^+…..<br>3克砝码：1+x^3^+….<br>4克砝码：1+x^4^+….  </p>
<p>既然题目问4克的方案，我们只需要把每种砝码到指数为4的多项式写出来如下：</p>
<p>(1+x+x^2^+x^3^+x^4^)(1+x^2^+x^4^)(1+x^3^)(1+x^4^)  </p>
<h4 id="算法描述"><a href="#算法描述" class="headerlink" title="算法描述"></a>算法描述</h4><p>(1)输入：不同砝码种类num,砝码重量数组w[]<br>输出：可以称出的重量即其方案数</p>
<p>(2)数据结构：<br>定义一个数组c[]保存最终多项式,其中c(i)为指数为i的项的系数，例如例1中c[]={1,1,1,2,2,2,2,2,1,1,1},即1+x+x^2^+2x^3^+2x^4^+2x^5^+2x^6^+2x^7^+x^8^+x^9^+x^10^</p>
<p>(3)算法描述：</p>
<p><1>.建立数组c[maxSize],并将c[0]初始化为1，c[w[0]]初始化为1；</1></p>
<p><2><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;num;++i)<span class="comment">//依次遍历w[]中每一项，模拟矩阵相乘</span></div><div class="line"> <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;maxSize;++j)</div><div class="line"> &#123;</div><div class="line">	<span class="keyword">if</span>(c[j]!=<span class="number">0</span>)<span class="comment">//和系数不为0的相乘</span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">int</span> temp=w[i]+j;<span class="comment">//两项相乘，得到一个新指数</span></div><div class="line">		<span class="keyword">if</span>(temp&lt;maxSize)</div><div class="line">		&#123;</div><div class="line">			c[temp]++;<span class="comment">//系数加1</span></div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"> &#125;</div></pre></td></tr></table></figure></2></p>
<p> (4)源码：<br> <figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"> <span class="comment">/*生成函数应用*/</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MaxSize 11</span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> c[MaxSize];<span class="comment">//存储最终多项式</span></div><div class="line"><span class="keyword">int</span> cache[MaxSize];<span class="comment">//缓存中间计算结果</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Coin</span><span class="params">(<span class="keyword">int</span> w[], <span class="keyword">int</span> num)</span></span></div><div class="line">&#123;</div><div class="line">	c[<span class="number">0</span>] = <span class="number">1</span>;</div><div class="line">	c[w[<span class="number">0</span>]] = <span class="number">1</span>;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; num;++i)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; MaxSize;++j)</div><div class="line">		&#123;</div><div class="line">			<span class="keyword">if</span> (c[j] != <span class="number">0</span>)</div><div class="line">			&#123;</div><div class="line">				<span class="keyword">int</span> temp = w[i] + j;</div><div class="line">				<span class="keyword">if</span> (temp &lt; MaxSize)</div><div class="line">				&#123;</div><div class="line">					cache[temp]++;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; MaxSize; ++k)</div><div class="line">		&#123;</div><div class="line">			c[k] += cache[k];</div><div class="line">			cache[k] = <span class="number">0</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; MaxSize; ++i)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span> (c[i] != <span class="number">0</span>)</div><div class="line">		&#123;</div><div class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">"组成质量为"</span> &lt;&lt; i &lt;&lt; <span class="string">"克的方案数有"</span> &lt;&lt; c[i] &lt;&lt; <span class="string">"种"</span> &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/母函数法/">母函数法</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/11/03/容斥原理/" title="容斥原理" itemprop="url">容斥原理</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="洛绍川" target="_blank" itemprop="author">洛绍川</a>
		
  <p class="article-time">
    <time datetime="2017-11-03T15:00:00.000Z" itemprop="datePublished"> 发表于 2017-11-03</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="容斥原理：加奇减偶"><a href="#容斥原理：加奇减偶" class="headerlink" title="容斥原理：加奇减偶"></a>容斥原理：加奇减偶</h3><p>要计算几个集合并集的大小，我们要先将单个集合的大小计算出来，然后减去两个集合相交的部分，再加回所有三个集合相交的部分，再减去所有四个集合相交的部分，依此类推，一直计算到所有集合相交的部分。</p>
<h3 id="例1：互质数"><a href="#例1：互质数" class="headerlink" title="例1：互质数"></a>例1：<a href="http://acm.hdu.edu.cn/showproblem.php?pid=4135" target="_blank" rel="external">互质数</a></h3><h4 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h4><p>题目要求的是a~b之间有多少是与N互质的。暴力算法可以遍历区间[a,b]看和N的最大公约数是不是1，但这样肯定会超时。我们可以先预处理[1,M]中和N互质的，要求互质，可以先求出不互质的，再用M减去即可。对于和N不互质的，必定和N有公因子，先将N分解，N=n0^m0^n1^m1^…,则n0的倍数，n1的倍数…均和N不互质，但是我们发现对于不同因子的倍数，有可能是相同的，比如因子2和3，会出现2的三倍等于3的两倍，于是这里还的应用容斥原理，加奇减偶，去掉重复加上的。最后，问题转化成了求(b-func(b))  -  (a-1-func(a-1))，func(b)代表1~b中与N不互素的个数，自然b-func(b)就代表的是1~b中与N互素的个数。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">70</span>;</div><div class="line"></div><div class="line">ll A, B, N;</div><div class="line"></div><div class="line">ll divisor[maxn];<span class="comment">//不同因子</span></div><div class="line"></div><div class="line"><span class="comment">/*计算1~m中包含这n个因子的数的个数*/</span></div><div class="line"><span class="function">ll <span class="title">calc</span><span class="params">(ll m, ll n)</span></span></div><div class="line">&#123;</div><div class="line">	ll ans = <span class="number">0</span>, tmp, i, j, flag;</div><div class="line">	<span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; (ll)<span class="number">1</span> &lt;&lt; n; ++i)<span class="comment">//通过位运算枚举集合中的组合，这个用法要记住</span></div><div class="line">	&#123;</div><div class="line">		tmp = <span class="number">1</span>, flag = <span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; n; ++j)</div><div class="line">		&#123;</div><div class="line">			<span class="keyword">if</span> (i&amp;(ll)<span class="number">1</span> &lt;&lt; j)<span class="comment">//判断第j个因子是否被用到</span></div><div class="line">				++flag, tmp *= divisor[j];</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> (flag &amp; <span class="number">1</span>)ans += m / tmp;<span class="comment">//容斥原理，奇加偶减</span></div><div class="line">		<span class="keyword">else</span> ans -= m / tmp;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">divide</span><span class="params">(ll x)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> n = <span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span> (ll i = <span class="number">2</span>; i*i &lt;= x; ++i)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span> (x&amp;&amp;x%i == <span class="number">0</span>)</div><div class="line">		&#123;</div><div class="line">			divisor[n++] = i;</div><div class="line">			<span class="keyword">while</span> (x&amp;&amp;x%i == <span class="number">0</span>)x /= i;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> (x &gt; <span class="number">1</span>)divisor[n++] = x;</div><div class="line">	<span class="keyword">return</span> n;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> t; <span class="built_in">scanf</span>(<span class="string">"%d\n"</span>,&amp;t);</div><div class="line">	<span class="keyword">while</span> (t--)</div><div class="line">	&#123;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%lld%lld%lld"</span>,&amp;A,&amp;B,&amp;N);</div><div class="line">		<span class="keyword">int</span> n = divide(N);</div><div class="line">		ll res = B - calc(B, n) - (A - <span class="number">1</span> - calc(A - <span class="number">1</span>, n));</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,res);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/容斥原理/">容斥原理</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/10/22/拓扑排序/" title="拓扑排序" itemprop="url">拓扑排序</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="洛绍川" target="_blank" itemprop="author">洛绍川</a>
		
  <p class="article-time">
    <time datetime="2017-10-22T11:33:00.000Z" itemprop="datePublished"> 发表于 2017-10-22</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>将有向图中的顶点以线性方式进行排序。即对于任何连接自顶点u到顶点v的有向边uv,在最后的排序结果中，顶点u总是在顶点v的前面。</p>
<h3 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h3><ol>
<li>从DAG图中选择一个没有前驱(即入度为0)的顶点并输出。</li>
<li>从图中删除该顶点和所有以它为起点的有向边。</li>
<li>重复1和2直至当前DAG图为空或当前图中不存在无前驱的顶点为止。后一种情况说明有向图中必然存在环。</li>
</ol>
<h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><p><a href="https://leetcode.com/problems/course-schedule/description/" target="_blank" rel="external">207. Course Schedule</a><br><strong>BFS</strong><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">canFinish</span><span class="params">(<span class="keyword">int</span> numCourses, <span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt;&amp; prerequisites)</span> </span>&#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; din(numCourses,<span class="number">0</span>);</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; G(numCourses);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> e:prerequisites)</div><div class="line">        &#123;</div><div class="line">            ++din[e.second];</div><div class="line">            G[e.first].push_back(e.second);</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; que;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;numCourses;++i)&#123;</div><div class="line">            <span class="keyword">if</span>(!din[i])que.push(i);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">while</span>(!que.empty())&#123;</div><div class="line">            <span class="keyword">int</span> t=que.front();</div><div class="line">            que.pop();</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span> s:G[t])&#123;</div><div class="line">                --din[s];</div><div class="line">                <span class="keyword">if</span>(!din[s])que.push(s);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> d:din)</div><div class="line">            <span class="keyword">if</span>(d)<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p><strong>DFS</strong><br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">L ← Empty list that will contain <span class="keyword">the</span> sorted nodes</div><div class="line"><span class="keyword">while</span> there are unmarked nodes <span class="built_in">do</span></div><div class="line">    select <span class="keyword">an</span> unmarked node n</div><div class="line">    visit(n) </div><div class="line"></div><div class="line"> <span class="function"><span class="keyword">function</span> <span class="title">visit</span>(<span class="title">node</span> <span class="title">n</span>)</span></div><div class="line">    <span class="keyword">if</span> n has <span class="keyword">a</span> permanent mark <span class="keyword">then</span> <span class="literal">return</span></div><div class="line">    <span class="keyword">if</span> n has <span class="keyword">a</span> temporary mark <span class="keyword">then</span> <span class="built_in">stop</span> (<span class="keyword">not</span> <span class="keyword">a</span> DAG)</div><div class="line">    mark n temporarily</div><div class="line">    <span class="keyword">for</span> <span class="keyword">each</span> node m <span class="keyword">with</span> <span class="keyword">an</span> edge <span class="built_in">from</span> n <span class="built_in">to</span> m <span class="built_in">do</span></div><div class="line">        visit(m)</div><div class="line">    mark n permanently</div><div class="line">    <span class="built_in">add</span> n <span class="built_in">to</span> head <span class="keyword">of</span> L</div></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp;G,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;visit,<span class="keyword">int</span> u)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span>(visit[u]==<span class="number">1</span>)<span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">        <span class="keyword">if</span>(visit[u]==<span class="number">-1</span>)<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        visit[u]=<span class="number">-1</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> v:G[u])</div><div class="line">            <span class="keyword">if</span>(!dfs(G,visit,v))<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        visit[u]=<span class="number">1</span>;</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">canFinish</span><span class="params">(<span class="keyword">int</span> numCourses, <span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt;&amp; prerequisites)</span> </span>&#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; visit(numCourses,<span class="number">0</span>);</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; G(numCourses);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> e:prerequisites)G[e.first].push_back(e.second);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> u=<span class="number">0</span>;u&lt;numCourses;++u)</div><div class="line">            <span class="keyword">if</span>(!dfs(G,visit,u))<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/图论-拓扑排序/">图论 拓扑排序</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/10/13/双向BFS/" title="双向BFS" itemprop="url">双向BFS</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="洛绍川" target="_blank" itemprop="author">洛绍川</a>
		
  <p class="article-time">
    <time datetime="2017-10-13T14:05:00.000Z" itemprop="datePublished"> 发表于 2017-10-13</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="双向BFS"><a href="#双向BFS" class="headerlink" title="双向BFS"></a>双向BFS</h3><p>如果我们已经知道搜索的起点和终点，可以采用双向BFS进行搜索。双向BFS基于两个队列begin和end,每次搜索从较小的那个队列进行搜索，如果两个队列里有公共元素，则搜索终止。</p>
<h3 id="例1-127-Word-Ladder"><a href="#例1-127-Word-Ladder" class="headerlink" title="例1.127. Word Ladder"></a>例1.<a href="https://leetcode.com/problems/word-ladder/description/" target="_blank" rel="external">127. Word Ladder</a></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">ladderLength</span><span class="params">(<span class="built_in">string</span> beginWord, <span class="built_in">string</span> endWord, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; wordList)</span> </span>&#123;</div><div class="line">        <span class="built_in">unordered_map</span>&lt;<span class="built_in">string</span>,<span class="keyword">bool</span>&gt; M;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> str:wordList)M[str]=<span class="literal">false</span>;</div><div class="line">        <span class="keyword">if</span>(!M.count(endWord))<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="built_in">unordered_set</span>&lt;<span class="built_in">string</span>&gt; beginQ,endQ,swapQ;</div><div class="line">        beginQ.insert(beginWord);endQ.insert(endWord);</div><div class="line">        M[beginWord]=<span class="literal">true</span>;M[endWord]=<span class="literal">true</span>;</div><div class="line">        <span class="keyword">int</span> steps=<span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span>(!beginQ.empty()&amp;&amp;!endQ.empty())</div><div class="line">        &#123;</div><div class="line">            ++steps;</div><div class="line">            <span class="keyword">if</span>(beginQ.size()&gt;endQ.size())swap(beginQ,endQ);</div><div class="line">            swapQ.clear();</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span> word:beginQ)</div><div class="line">            &#123;</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;word.size();++i)</div><div class="line">                &#123;</div><div class="line">                    <span class="built_in">string</span> s=word;</div><div class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> c=<span class="string">'a'</span>;c&lt;=<span class="string">'z'</span>;++c)</div><div class="line">                    &#123;</div><div class="line">                        s[i]=c;</div><div class="line">                        <span class="keyword">if</span>(endQ.count(s))<span class="keyword">return</span> steps+<span class="number">1</span>;</div><div class="line">                        <span class="keyword">if</span>(M.count(s)&amp;&amp;!M[s])</div><div class="line">                        &#123;</div><div class="line">                            M[s]=<span class="literal">true</span>;</div><div class="line">                            swapQ.insert(s);</div><div class="line">                        &#125;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            swap(beginQ,swapQ);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/BFS/">BFS</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/10/02/Trie树/" title="Trie树" itemprop="url">Trie树</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="洛绍川" target="_blank" itemprop="author">洛绍川</a>
		
  <p class="article-time">
    <time datetime="2017-10-02T12:23:00.000Z" itemprop="datePublished"> 发表于 2017-10-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="Trie树"><a href="#Trie树" class="headerlink" title="Trie树"></a>Trie树</h3><p>字典树是储存着不同字符串的数据结构，是一个n叉树(n为字符串集的大小)，对于一棵储存26个字母的字典树来说，它的每一个节点储存着26个指针可以分别代表这个节点后面加上‘a’~’z’后可以指向那个节点。<br>插入的时候从根节点开始，沿着对应的边走（如果某个指针后面指向的节点为空，可以新建一个节点）走到字符串结束的时候在当前停留的节点标记一下(是否出现过，出现了几次等)。<br>查询的时候也是一样从根节点走，如果走到某个节点无路可走了，说明查不到，当一路走到字符串结束时，检查当前停留的节点是否被标记过。<br>==别忘了初始化根节点！==<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e6</span>+<span class="number">5</span>;</div><div class="line"><span class="keyword">struct</span> node</div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> next[<span class="number">26</span>];<span class="comment">//下一个节点编号</span></div><div class="line">    <span class="keyword">int</span> cnt;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></div><div class="line">    &#123;</div><div class="line">        cnt=<span class="number">0</span>;</div><div class="line">        <span class="built_in">memset</span>(next,<span class="number">-1</span>,<span class="keyword">sizeof</span>(next));</div><div class="line">    &#125;</div><div class="line">&#125;T[maxn];</div><div class="line"><span class="keyword">int</span> le=<span class="number">1</span>;<span class="comment">//当前节点数量</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">char</span> *s)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> i=<span class="number">0</span>,p=<span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span>(s[i])</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">int</span> x=s[i]-<span class="string">'a'</span>;</div><div class="line">        <span class="keyword">if</span>(T[p].next[x]==<span class="number">-1</span>)<span class="comment">//创建节点</span></div><div class="line">        &#123;</div><div class="line">            T[le].init();</div><div class="line">            T[p].next[x]=le++;</div><div class="line">        &#125;</div><div class="line">        p=T[p].next[x];</div><div class="line">        T[p].cnt++;</div><div class="line">        i++</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">query</span><span class="params">(<span class="keyword">char</span> *s)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> i=<span class="number">0</span>,p=<span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span>(s[i])</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">int</span> x=s[i]-<span class="string">'a'</span>;</div><div class="line">        <span class="keyword">if</span>(T[p].next[x]==<span class="number">-1</span>)</div><div class="line">        &#123;</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"0\n"</span>);</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        p=T[p].next[x];</div><div class="line">        ++i;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,T[p].cnt);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/Trie树/">Trie树</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/09/29/Manacher算法/" title="Manacher算法" itemprop="url">Manacher算法</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="洛绍川" target="_blank" itemprop="author">洛绍川</a>
		
  <p class="article-time">
    <time datetime="2017-09-29T12:23:00.000Z" itemprop="datePublished"> 发表于 2017-09-29</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><p>构造新字符串，构造方法为在原字符串前面加$,然后每个字符串之间加一个‘#’，例如：s=”abc”变为s_new=”$#a#b#c#”,这样不改变原字符串回文性质，还把字符串长度都变为奇数。令r[id]表示以id为中心的最长回文子串的半径，mx表示以id为中心的最长回文右边界，即mx=id+r[id].<br>核心代码：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>(i&lt;mx)</div><div class="line">    r[i]=min(r[<span class="number">2</span>*id-i],mx-i);</div><div class="line"><span class="keyword">else</span></div><div class="line">    r[i]=<span class="number">1</span>;</div></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span>+<span class="number">5</span>;</div><div class="line"><span class="keyword">char</span> str[maxn*<span class="number">2</span>];</div><div class="line"><span class="keyword">int</span> rad[maxn*<span class="number">2</span>];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">manacher</span><span class="params">(<span class="keyword">char</span> *s)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> n=<span class="number">0</span>,res=<span class="number">0</span>,ma=<span class="number">0</span>,re=<span class="number">0</span>;</div><div class="line">    str[n++]=<span class="string">'$'</span>;</div><div class="line">    str[n++]=<span class="string">'#'</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;s[i];++i)</div><div class="line">    &#123;</div><div class="line">        str[n++]=s[i];</div><div class="line">        str[n++]=<span class="string">'#'</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;++i)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(i&lt;ma)rad[i]=min(ma-i,rad[<span class="number">2</span>*re-i]);</div><div class="line">        <span class="keyword">else</span> rad[i]=<span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span>(str[i-rad[i]]==str[i+rad[i]])++rad[i];</div><div class="line">        <span class="keyword">if</span>(ma&lt;rad[i]+i)</div><div class="line">        &#123;</div><div class="line">            ma=rad[i]+i;</div><div class="line">            re=i;</div><div class="line">        &#125;</div><div class="line">        res=max(res,rad[i]<span class="number">-1</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/Manacher算法/">Manacher算法</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/09/28/KMP算法/" title="KMP算法" itemprop="url">KMP算法</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="洛绍川" target="_blank" itemprop="author">洛绍川</a>
		
  <p class="article-time">
    <time datetime="2017-09-28T11:24:59.000Z" itemprop="datePublished"> 发表于 2017-09-28</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p><a href="http://blog.csdn.net/s150503/article/details/58196256" target="_blank" rel="external">http://blog.csdn.net/s150503/article/details/58196256</a><br><a href="http://blog.csdn.net/v_july_v/article/details/7041827" target="_blank" rel="external">http://blog.csdn.net/v_july_v/article/details/7041827</a></p>
<h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><p>目标串用i索引，模式串用j索引，如果模式串P[j]和目标串S[i]不匹配，则j=next[j]继续匹配。next[j]表示P[0…j-1]这段子串的前缀集合和后缀集合最长公共串的长度。next[0]=-1。已知next[j]求next[j+1]的递推公式为：令k=next[j],如果P[k]==P[j],则next[j+1]=k+1,否则k=next[k]继续。在进行匹配时，如果S[i]==P[j]则++i,++j,否则j=next[j];<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e4</span>+<span class="number">5</span>;</div><div class="line"><span class="keyword">char</span> s[maxn];</div><div class="line"><span class="keyword">char</span> p[maxn];</div><div class="line"><span class="keyword">int</span> next[maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_next</span><span class="params">(<span class="keyword">char</span> *p)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> m = <span class="built_in">strlen</span>(p),i=<span class="number">0</span>,j=<span class="number">-1</span>;</div><div class="line">    next[<span class="number">0</span>]=<span class="number">-1</span>;</div><div class="line">    <span class="keyword">while</span>(i&lt;m)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(j==<span class="number">-1</span>||p[i]==p[j])next[++i]=++j;</div><div class="line">        <span class="keyword">else</span> j=next[j];</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">kmp</span><span class="params">(<span class="keyword">char</span> *s,<span class="keyword">char</span> *p)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> n=<span class="built_in">strlen</span>(s),m=<span class="built_in">strlen</span>(p),i=<span class="number">0</span>,j=<span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span>(i&lt;n&amp;&amp;j&lt;m)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(j==<span class="number">-1</span>||s[i]==p[j])</div><div class="line">        &#123;</div><div class="line">            ++i;</div><div class="line">            ++j;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span></div><div class="line">        j=next[j];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(j==m)<span class="keyword">return</span> i-j;</div><div class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/KMP算法/">KMP算法</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/09/25/并查集 - 副本/" title="AC自动机" itemprop="url">AC自动机</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="洛绍川" target="_blank" itemprop="author">洛绍川</a>
		
  <p class="article-time">
    <time datetime="2017-09-25T11:08:56.000Z" itemprop="datePublished"> 发表于 2017-09-25</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="代码模板"><a href="#代码模板" class="headerlink" title="代码模板"></a>代码模板</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e6</span> + <span class="number">5</span>;</div><div class="line"><span class="keyword">int</span> le = <span class="number">0</span>;</div><div class="line"><span class="keyword">struct</span> node</div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> end;</div><div class="line">	<span class="keyword">int</span> next[<span class="number">26</span>];</div><div class="line">	<span class="keyword">int</span> suffix;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></div><div class="line">	&#123;</div><div class="line">		end = <span class="number">0</span>;</div><div class="line">		suffix = <span class="number">0</span>;</div><div class="line">		<span class="built_in">memset</span>(next, <span class="number">0</span>, <span class="keyword">sizeof</span>(next));</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;T[maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">char</span> *s)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> i = <span class="number">0</span>, p = <span class="number">0</span>;</div><div class="line">	<span class="keyword">while</span> (s[i])</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">int</span> x = s[i] - <span class="string">'a'</span>;</div><div class="line">		<span class="keyword">if</span> (!T[p].next[x])</div><div class="line">		&#123;</div><div class="line">			T[++le].init();</div><div class="line">			T[p].next[x] = le;</div><div class="line">		&#125;</div><div class="line">		p = T[p].next[x];</div><div class="line">		i++;</div><div class="line">	&#125;</div><div class="line">	T[p].end = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">	T[<span class="number">0</span>].suffix = <span class="number">0</span>;</div><div class="line">	<span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">26</span>; ++i)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span> (!T[<span class="number">0</span>].next[i])</div><div class="line">			T[<span class="number">0</span>].next[i] = <span class="number">0</span>;</div><div class="line">		<span class="keyword">else</span></div><div class="line">		&#123;</div><div class="line">			T[T[<span class="number">0</span>].next[i]].suffix = <span class="number">0</span>;</div><div class="line">			q.push(T[<span class="number">0</span>].next[i]);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">int</span> cur, suf;</div><div class="line">	<span class="keyword">while</span> (!q.empty())</div><div class="line">	&#123;</div><div class="line">		cur = q.front();</div><div class="line">		suf = T[cur].suffix;</div><div class="line">		q.pop();</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;<span class="number">26</span>; ++i)</div><div class="line">		&#123;</div><div class="line">			<span class="keyword">if</span> (!T[cur].next[i])</div><div class="line">			&#123;</div><div class="line">				T[cur].next[i] = T[suf].next[i];</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">else</span></div><div class="line">			&#123;</div><div class="line">				T[T[cur].next[i]].suffix = T[suf].next[i];</div><div class="line">				q.push(T[cur].next[i]);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">bool</span>  <span class="title">check</span><span class="params">(<span class="keyword">char</span> *essay)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> i, p;</div><div class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>, p = <span class="number">0</span>; essay[i]; ++i)</div><div class="line">	&#123;</div><div class="line">		p = T[p].next[essay[i] - <span class="string">'a'</span>];</div><div class="line">		<span class="keyword">if</span> (T[p].end)</div><div class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/AC自动机/">AC自动机</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/09/24/DFA/" title="DFA" itemprop="url">DFA</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="洛绍川" target="_blank" itemprop="author">洛绍川</a>
		
  <p class="article-time">
    <time datetime="2017-09-24T05:23:00.000Z" itemprop="datePublished"> 发表于 2017-09-24</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="DFA"><a href="#DFA" class="headerlink" title="DFA"></a>DFA</h3><p>常用于判断字符串是否合法。<br><a href="http://blog.csdn.net/u012061345/article/details/52092436?locationNum=11" target="_blank" rel="external">DFA</a><br>关键是状态编码和确定状态转移。</p>
<h3 id="leetcode-65-Valid-Number"><a href="#leetcode-65-Valid-Number" class="headerlink" title="leetcode 65. Valid Number"></a><a href="https://leetcode.com/problems/valid-number/description/" target="_blank" rel="external">leetcode 65. Valid Number</a></h3><p><a href="https://postimg.org/image/723mdhed5/" target="_blank" rel="external">状态转移图</a><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isNumber</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</div><div class="line">        <span class="comment">//去掉前后空格</span></div><div class="line">        <span class="keyword">int</span> l=<span class="number">0</span>,r=s.length()<span class="number">-1</span>;</div><div class="line">        <span class="keyword">while</span>(l&lt;=r&amp;&amp;s[l]==<span class="string">' '</span>)++l;</div><div class="line">        <span class="keyword">while</span>(r&gt;=<span class="number">0</span>&amp;&amp;s[r]==<span class="string">' '</span>)--r;</div><div class="line">        <span class="keyword">if</span>(r&lt;l)<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        <span class="comment">//s=s.substr(l,r-l+1);</span></div><div class="line">        <span class="keyword">int</span> state=<span class="number">0</span>;</div><div class="line">        <span class="comment">//初始状态S0</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=l;i&lt;=r;++i)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">switch</span>(state)</div><div class="line">            &#123;</div><div class="line">                <span class="keyword">case</span> <span class="number">0</span>:</div><div class="line">                    <span class="keyword">if</span>(s[i]&gt;=<span class="string">'0'</span>&amp;&amp;s[i]&lt;=<span class="string">'9'</span>)</div><div class="line">                        state=<span class="number">2</span>;</div><div class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(s[i]==<span class="string">'+'</span>||s[i]==<span class="string">'-'</span>)</div><div class="line">                        state=<span class="number">1</span>;</div><div class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(s[i]==<span class="string">'.'</span>)</div><div class="line">                        state=<span class="number">6</span>;</div><div class="line">                    <span class="keyword">else</span> </div><div class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="number">1</span>:</div><div class="line">                    <span class="keyword">if</span>(s[i]&gt;=<span class="string">'0'</span>&amp;&amp;s[i]&lt;=<span class="string">'9'</span>)</div><div class="line">                        state=<span class="number">2</span>;</div><div class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(s[i]==<span class="string">'.'</span>)</div><div class="line">                        state=<span class="number">6</span>;</div><div class="line">                    <span class="keyword">else</span></div><div class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="number">2</span>:</div><div class="line">                    <span class="keyword">if</span>(s[i]&gt;=<span class="string">'0'</span>&amp;&amp;s[i]&lt;=<span class="string">'9'</span>)</div><div class="line">                        state=<span class="number">2</span>;</div><div class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(s[i]==<span class="string">'.'</span>)</div><div class="line">                        state=<span class="number">7</span>;</div><div class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(s[i]==<span class="string">'e'</span>)</div><div class="line">                        state=<span class="number">3</span>;</div><div class="line">                    <span class="keyword">else</span></div><div class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="number">3</span>:</div><div class="line">                    <span class="keyword">if</span>(s[i]&gt;=<span class="string">'0'</span>&amp;&amp;s[i]&lt;=<span class="string">'9'</span>)</div><div class="line">                        state=<span class="number">5</span>;</div><div class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(s[i]==<span class="string">'+'</span>||s[i]==<span class="string">'-'</span>)</div><div class="line">                        state=<span class="number">4</span>;</div><div class="line">                    <span class="keyword">else</span> </div><div class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="number">4</span>:</div><div class="line">                    <span class="keyword">if</span>(s[i]&gt;=<span class="string">'0'</span>&amp;&amp;s[i]&lt;=<span class="string">'9'</span>)</div><div class="line">                        state=<span class="number">5</span>;</div><div class="line">                    <span class="keyword">else</span></div><div class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="number">5</span>:</div><div class="line">                    <span class="keyword">if</span>(s[i]&gt;=<span class="string">'0'</span>&amp;&amp;s[i]&lt;=<span class="string">'9'</span>)</div><div class="line">                        state=<span class="number">5</span>;</div><div class="line">                    <span class="keyword">else</span></div><div class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="number">6</span>:</div><div class="line">                    <span class="keyword">if</span>(s[i]&gt;=<span class="string">'0'</span>&amp;&amp;s[i]&lt;=<span class="string">'9'</span>)</div><div class="line">                        state=<span class="number">7</span>;</div><div class="line">                    <span class="keyword">else</span></div><div class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="number">7</span>:</div><div class="line">                    <span class="keyword">if</span>(s[i]==<span class="string">'e'</span>)</div><div class="line">                        state=<span class="number">3</span>;</div><div class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(s[i]&gt;=<span class="string">'0'</span>&amp;&amp;s[i]&lt;=<span class="string">'9'</span>)</div><div class="line">                        state=<span class="number">7</span>;</div><div class="line">                    <span class="keyword">else</span></div><div class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">default</span>:</div><div class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(state==<span class="number">7</span>||state==<span class="number">2</span>||state==<span class="number">5</span>)<span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/DFA/">DFA</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/09/21/尺取法/" title="滑动窗口" itemprop="url">滑动窗口</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="洛绍川" target="_blank" itemprop="author">洛绍川</a>
		
  <p class="article-time">
    <time datetime="2017-09-21T12:00:00.000Z" itemprop="datePublished"> 发表于 2017-09-21</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="滑动窗口””尺取法”"><a href="#滑动窗口””尺取法”" class="headerlink" title="滑动窗口””尺取法”"></a>滑动窗口””尺取法”</h3><p>==这种找某段连续子序列满足要求最长/最短的问题，通常可以使用<strong>尺取法</strong>解决==。对于大部分“子字符串”相关问题，即给出一个字符串要求找到它满足某些条件的子串，我们通常可以使用哈希表和双指针来维护一个滑动窗口解决。模板如下：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">findSubstring</span><span class="params">(<span class="built_in">string</span> s)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; hashmap(<span class="number">128</span>,<span class="number">0</span>);<span class="comment">//哈希表</span></div><div class="line">    <span class="keyword">int</span> counter;<span class="comment">//检查子串是否有效</span></div><div class="line">    <span class="keyword">int</span> begin=<span class="number">0</span>,end=<span class="number">0</span>;<span class="comment">//双指针，分别指向滑动窗口的两端</span></div><div class="line">    <span class="keyword">int</span> d;<span class="comment">//字符子串长度</span></div><div class="line">    <span class="keyword">for</span>()&#123;<span class="comment">/*初始化哈希表*/</span>&#125;</div><div class="line">    <span class="keyword">while</span>(end&lt;s.length())</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(hashmap[s[end++]]--?)&#123;<span class="comment">/*在这里修改计数器*/</span>&#125;</div><div class="line">        <span class="keyword">while</span>(<span class="comment">/*计数器条件*/</span>)</div><div class="line">        &#123;</div><div class="line">            <span class="comment">/*如果发现最小值，在这里更新d*/</span></div><div class="line">            <span class="comment">//增加begin使其再次有效/失效</span></div><div class="line">            <span class="keyword">if</span>(<span class="built_in">map</span>[s[begin++]]++ ?)&#123; <span class="comment">/*modify counter here*/</span> &#125;</div><div class="line">        &#125;</div><div class="line">         <span class="comment">/* update d here if finding maximum*/</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> d;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="例1-Longest-Substring-Without-Repeating-Characters"><a href="#例1-Longest-Substring-Without-Repeating-Characters" class="headerlink" title="例1.Longest Substring Without Repeating Characters"></a>例1.Longest Substring Without Repeating Characters</h3><p><a href="https://leetcode.com/problems/longest-substring-without-repeating-characters/description/" target="_blank" rel="external">LeetCode 3</a></p>
<h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><p>可以维护一个滑动窗口，窗口内没有重复字符时，右端移动，窗口内出现重复字符时，将窗口左端移至左边重复字符的下一个位置，为了判重，通常需要一个哈希表。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; table(<span class="number">256</span>,<span class="number">0</span>);</div><div class="line">        <span class="keyword">int</span> res=<span class="number">0</span>,i=<span class="number">0</span>,j=<span class="number">0</span>,n=s.length();</div><div class="line">        <span class="keyword">while</span>(i&lt;n)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">while</span>(i&lt;n&amp;&amp;!table[s[i]])&#123;table[s[i]]=<span class="number">1</span>;++i;&#125;</div><div class="line">            res=max(res,i-j);</div><div class="line">            <span class="keyword">while</span>(j&lt;n&amp;&amp;s[j]!=s[i])&#123;table[s[j]]=<span class="number">0</span>;++j;&#125;;</div><div class="line">            table[s[j]]=<span class="number">0</span>;++j;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h3 id="例2-Minimum-Window-Substring"><a href="#例2-Minimum-Window-Substring" class="headerlink" title="例2.Minimum Window Substring"></a>例2.Minimum Window Substring</h3><p><a href="https://leetcode.com/problems/minimum-window-substring/description/" target="_blank" rel="external">LeetCode 76</a></p>
<h3 id="分析-1"><a href="#分析-1" class="headerlink" title="分析"></a>分析</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*尺取法*/</span></div><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="built_in">string</span> <span class="title">minWindow</span><span class="params">(<span class="built_in">string</span> s, <span class="built_in">string</span> t)</span> </span>&#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; hashmap(<span class="number">128</span>,<span class="number">0</span>);</div><div class="line">        <span class="keyword">int</span> begin=<span class="number">0</span>,end=<span class="number">0</span>,min_len=INT_MAX,counter=t.length(),min_start=<span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> c:t)hashmap[c]++;<span class="comment">//统计t中各字符出现的次数</span></div><div class="line">        <span class="keyword">while</span>(end&lt;s.length())</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">if</span>(hashmap[s[end]]&gt;<span class="number">0</span>)--counter;<span class="comment">//如果t中有此字符，将还需要找的字符数减1</span></div><div class="line">            hashmap[s[end]]--;<span class="comment">//将窗口内字符对应的数量减1，注意如果不是t中的字符，数量会变为负数</span></div><div class="line">            end++;<span class="comment">//窗口右移</span></div><div class="line">            <span class="keyword">while</span>(counter==<span class="number">0</span>)<span class="comment">//如果已经找齐所有字符，就开始移动窗口左端</span></div><div class="line">            &#123;</div><div class="line">                <span class="keyword">if</span>(end-begin&lt;min_len)</div><div class="line">                &#123;</div><div class="line">                    min_len=end-begin;</div><div class="line">                    min_start=begin;</div><div class="line">                &#125;</div><div class="line">                hashmap[s[begin]]++;<span class="comment">//窗口左端增大，窗口内对应字符数量+1</span></div><div class="line">                <span class="keyword">if</span>(hashmap[s[begin]]&gt;<span class="number">0</span>)++counter;<span class="comment">//如果t中存在此字符，窗口左端移动后还需要再找一个此字符</span></div><div class="line">                begin++;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> min_len==INT_MAX?<span class="string">""</span>:s.substr(min_start,min_len);</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="例3：Longest-Substring-with-At-Most-Two-Distinct-Characters"><a href="#例3：Longest-Substring-with-At-Most-Two-Distinct-Characters" class="headerlink" title="例3：Longest Substring with At Most Two Distinct Characters"></a>例3：Longest Substring with At Most Two Distinct Characters</h3><p><strong>题意</strong><br>给定一个字符串，找到其最多包含两种字符的最长子串T。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">lengthOfLongestSubstringTwoDistinct</span><span class="params">(<span class="built_in">string</span> s)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dict(<span class="number">128</span>,<span class="number">0</span>);</div><div class="line">    <span class="keyword">int</span> start=<span class="number">0</span>,end=<span class="number">0</span>,count=<span class="number">0</span>,max_len=<span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span>(end&lt;s.length())</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">while</span>(end&lt;s.length()&amp;&amp;count&lt;=<span class="number">2</span>)<span class="comment">//窗口内字符种数不超过2</span></div><div class="line">        &#123;</div><div class="line">            <span class="keyword">if</span>(dict[s[end]]==<span class="number">0</span>)++count;<span class="comment">//窗口内不存在此字符</span></div><div class="line">            dict[s[end]]++;<span class="comment">//字符数加1</span></div><div class="line">            end++;</div><div class="line">        &#125;</div><div class="line">        max_len=max(max_len,end-start);</div><div class="line">        <span class="keyword">while</span>(dict[s[start]])</div><div class="line">        &#123;</div><div class="line">            dict[s[start]]--;</div><div class="line">            start++;</div><div class="line">        &#125;</div><div class="line">        --count;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> max_len;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/滑动窗口/">滑动窗口</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  


  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/PAT/" title="PAT">PAT<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Parallel-Studio/" title="Parallel Studio">Parallel Studio<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Python/" title="Python">Python<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/hihocoder/" title="hihocoder">hihocoder<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/生活随笔/" title="生活随笔">生活随笔<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/算法/" title="算法">算法<sup>3</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/算法-leetcode/" title="算法 leetcode">算法 leetcode<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/算法-动态规划/" title="算法 动态规划">算法 动态规划<sup>8</sup></a></li>
			
		
			
				<li><a href="/tags/算法/" title="算法">算法<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Python/" title="Python">Python<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Kickstart-Google/" title="Kickstart Google">Kickstart Google<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/笔试/" title="笔试">笔试<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/C/" title="C">C<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/KMP算法/" title="KMP算法">KMP算法<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Manacher算法/" title="Manacher算法">Manacher算法<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/PAT/" title="PAT">PAT<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/正则表达式/" title="正则表达式">正则表达式<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Parallel-Studio/" title="Parallel Studio">Parallel Studio<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/ICC/" title="ICC">ICC<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/MKL/" title="MKL">MKL<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Trie树/" title="Trie树">Trie树<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/hihocoder-分治/" title="hihocoder 分治">hihocoder 分治<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/线段树/" title="线段树">线段树<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/matplotlib/" title="matplotlib">matplotlib<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/算法-挑战程序设计竞赛/" title="算法 挑战程序设计竞赛">算法 挑战程序设计竞赛<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/二叉搜索树/" title="二叉搜索树">二叉搜索树<sup>1</sup></a></li>
			
		
		</ul>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2018 
		
		<a href="/about" target="_blank" title="洛绍川">洛绍川</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
